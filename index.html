<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="„Åä„Çì„Å∑„Çí„Çà„ÇÇ„ÅÜ - 3„Äú7Ê≠≥„ÅÆ„ÅäÂ≠êÊßòÂêë„ÅëÈü≥Á¨¶Ë™≠„ÅøÁ∑¥Áøí„Ç¢„Éó„É™„ÄÇÊ•Ω„Åó„Åè„Éî„Ç¢„Éé„ÅÆÈü≥Á¨¶„ÇíÂ≠¶„Åº„ÅÜÔºÅ">
    <title>üéµ „Åä„Çì„Å∑„Çí„Çà„ÇÇ„ÅÜÔºÅ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;500;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Tone.js for piano sounds -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">
                <span class="note-icon">üéµ</span>
                „Åä„Çì„Å∑„Çí„Çà„ÇÇ„ÅÜÔºÅ
            </h1>
            <div class="mode-buttons">
                <button id="treble-btn" class="mode-btn active" aria-label="„ÉàÈü≥Ë®òÂè∑„É¢„Éº„Éâ">
                    <span class="clef-icon">ùÑû</span>
                    <span class="mode-label">„ÉàÈü≥</span>
                </button>
                <button id="bass-btn" class="mode-btn" aria-label="„ÉòÈü≥Ë®òÂè∑„É¢„Éº„Éâ">
                    <span class="clef-icon">ùÑ¢</span>
                    <span class="mode-label">„ÉòÈü≥</span>
                </button>
            </div>
        </header>

        <!-- Stamp Display Section -->
        <div class="stamp-section">
            <div class="streak-display">
                <span class="streak-label">„Çå„Çì„Åû„Åè</span>
                <div class="streak-bar">
                    <div class="streak-progress" id="streak-progress"></div>
                    <span class="streak-count" id="streak-count">0/5</span>
                </div>
                <span class="streak-icon">üåü</span>
            </div>
            <div class="stamps-display">
                <div class="mini-stamps">
                    <span class="stamp-icon">‚≠ê</span>
                    <span class="stamp-count" id="mini-stamp-count">0</span>
                    <span class="stamp-label">/20</span>
                </div>
                <div class="stamp-arrow">‚Üí</div>
                <div class="big-stamps">
                    <span class="big-stamp-icon">üèÜ</span>
                    <span class="stamp-count" id="big-stamp-count">0</span>
                </div>
            </div>
        </div>

        <!-- Level Selection -->
        <div class="level-selector">
            <button id="level1-btn" class="level-btn active" data-level="1">
                <span class="level-icon">üéµ</span>
                <span class="level-text">„É¨„Éô„É´1</span>
                <span class="level-desc">„Åü„Çì„Åä„Çì</span>
            </button>
            <button id="level2-btn" class="level-btn" data-level="2">
                <span class="level-icon">üé∂</span>
                <span class="level-text">„É¨„Éô„É´2</span>
                <span class="level-desc">„Çè„Åä„Çì</span>
            </button>
            <button id="level3-btn" class="level-btn" data-level="3">
                <span class="level-icon">üéπ</span>
                <span class="level-text">„É¨„Éô„É´3</span>
                <span class="level-desc">„Åü„Åã„ÅÑ„Åä„Å®</span>
            </button>

        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Staff Display -->
            <div class="staff-container">
                <svg id="staff-svg" class="staff-svg" viewBox="0 0 600 200" preserveAspectRatio="xMidYMid meet">
                    <!-- Clef symbol (Unicode character) -->
                    <text id="clef-symbol" class="clef-symbol" x="30" y="115" font-size="80">ùÑû</text>

                    <!-- Staff lines -->
                    <g class="staff-lines">
                        <line x1="80" y1="60" x2="580" y2="60" />
                        <line x1="80" y1="80" x2="580" y2="80" />
                        <line x1="80" y1="100" x2="580" y2="100" />
                        <line x1="80" y1="120" x2="580" y2="120" />
                        <line x1="80" y1="140" x2="580" y2="140" />
                    </g>

                    <!-- Notes will be added here dynamically -->
                    <g id="notes-container"></g>
                </svg>
            </div>

            <!-- Progress Display -->
            <div class="progress-display">
                <span class="progress-text">
                    <span id="current-question">1</span>/<span id="total-questions">5</span>
                </span>
                <span class="score-text">
                    „Åõ„ÅÑ„Åã„ÅÑ: <span id="score" class="score-number">0</span>
                </span>
            </div>

            <!-- Answer Buttons for Level 1 (Single Notes) -->
            <div class="answer-section" id="answer-section-notes">
                <div class="answer-buttons" id="answer-buttons">
                    <button class="answer-btn" data-note="„Éâ">„Éâ</button>
                    <button class="answer-btn" data-note="„É¨">„É¨</button>
                    <button class="answer-btn" data-note="„Éü">„Éü</button>
                    <button class="answer-btn" data-note="„Éï„Ç°">„Éï„Ç°</button>
                    <button class="answer-btn" data-note="„ÇΩ">„ÇΩ</button>
                    <button class="answer-btn" data-note="„É©">„É©</button>
                    <button class="answer-btn" data-note="„Ç∑">„Ç∑</button>
                </div>
            </div>

            <!-- Answer Buttons for Level 2 (Chords) -->
            <div class="answer-section hidden" id="answer-section-chords">
                <p class="chord-question-text">„Åì„ÅÆ „Çè„Åä„Çì „ÅØ „Å™„Å´Ôºü</p>
                <div class="chord-buttons" id="chord-buttons">
                    <button class="chord-btn" data-chord="I">
                        <span class="chord-numeral">I</span>
                        <span class="chord-name">„Éâ „Éü „ÇΩ</span>
                    </button>
                    <button class="chord-btn" data-chord="IV">
                        <span class="chord-numeral">IV</span>
                        <span class="chord-name">„Éï„Ç° „É© „Éâ</span>
                    </button>
                    <button class="chord-btn" data-chord="V">
                        <span class="chord-numeral">V</span>
                        <span class="chord-name">„ÇΩ „Ç∑ „É¨</span>
                    </button>
                </div>
            </div>

            <!-- Answer Buttons for Level 3 (High Notes) -->
            <div class="answer-section hidden" id="answer-section-high">
                <div class="answer-buttons" id="answer-buttons-high">
                    <!-- „ÉàÈü≥Áî®Ôºö„Éâ„É¨„Éü„Éï„Ç°„ÇΩ„ÄÅ„ÉòÈü≥Áî®Ôºö„Éâ„Ç∑„É©„ÇΩÔºàJS„ÅßÂàá„ÇäÊõø„ÅàÔºâ -->
                </div>
            </div>



            <!-- Feedback Display -->
            <div id="feedback" class="feedback hidden">
                <div class="feedback-content">
                    <span class="feedback-icon"></span>
                    <span class="feedback-text"></span>
                </div>
            </div>
        </main>

        <!-- Footer (Á©∫„ÅçÈ†òÂüü) -->
        <footer class="footer">
            <!-- Ëá™Âãï„ÅßÊ¨°„ÅÆÂïèÈ°å„Å´ÈÄ≤„ÇÄ„Åü„ÇÅ„ÄÅ„Éú„Çø„É≥„ÅØ‰∏çË¶Å -->
        </footer>

        <!-- Result Modal -->
        <div id="result-modal" class="modal hidden">
            <div class="modal-content">
                <div class="result-stars" id="result-stars"></div>
                <h2 class="result-title">„Åä„Çè„ÇäÔºÅ</h2>
                <p class="result-text">
                    <span id="result-total">5</span>„ÇÇ„Çì„Å°„ÇÖ„ÅÜ
                    <span id="result-correct" class="result-highlight">0</span>„ÇÇ„Çì „Åõ„ÅÑ„Åã„ÅÑÔºÅ
                </p>
                <div class="result-message" id="result-message"></div>
                <button id="restart-btn" class="restart-btn">
                    „ÇÇ„ÅÜ„ÅÑ„Å°„Å© „ÅÇ„Åù„Å∂
                    <span class="play-icon">üéπ</span>
                </button>
            </div>

            <!-- Stamp Notification Popup -->
            <div id="stamp-notification" class="stamp-notification hidden">
                <span class="stamp-notification-icon" id="stamp-notification-icon">‚≠ê</span>
                <div class="stamp-notification-text" id="stamp-notification-text">„Çπ„Çø„É≥„Éó„Çí„Ç≤„ÉÉ„ÉàÔºÅ</div>
                <div class="stamp-notification-sub" id="stamp-notification-sub"></div>
            </div>
        </div>

        <!-- Decoration Images -->
        <div class="decoration-container">
            <img src="assets/bear_balloon.png" alt="" class="deco-bear-balloon">
            <img src="assets/bear_music.png" alt="" class="deco-bear-music">
            <img src="assets/bear_relax.png" alt="" class="deco-bear-relax">
            <img src="assets/bear_honey.png" alt="" class="deco-bear-honey">
        </div>

        <script src="app.js"></script>
</body>

</html>